<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìƒí’ˆ ìƒì„±ê¸° V9.5 (Template Restoration)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <style>
        body { font-family: Pretendard, sans-serif; background-color: #f3f4f6; }
        .input-label { display: block; font-size: 0.85rem; font-weight: 700; color: #374151; margin-bottom: 6px; }
        .input-field { width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 8px; margin-bottom: 16px; font-size: 0.95rem; background: white; }
        .input-field:focus { outline: none; border-color: #2563eb; box-shadow: 0 0 0 3px #bfdbfe; }
        .section-box { background: white; padding: 24px; border-radius: 16px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); border: 1px solid #e5e7eb; }
        .timeline-item { position: relative; border-left: 4px solid #e5e7eb; transition: all 0.2s; }
        .timeline-item:focus-within { border-left-color: #2563eb; background-color: #f8fafc; }
    </style>
</head>
<body class="p-6 max-w-3xl mx-auto">

    <header class="mb-8 text-center">
        <h1 class="text-3xl font-bold text-gray-900">ğŸ› ï¸ ìƒí’ˆ ìƒì„±ê¸° V9.5</h1>
        <p class="text-sm text-gray-500 mt-1">ê¸°ì¡´ í…œí”Œë¦¿ ë””ìì¸ ì™„ë²½ ë³µì› + ì•ˆì •ì„± ê°•í™”</p>
    </header>

    <div class="section-box border-t-4 border-t-gray-800">
        <h2 class="text-lg font-bold mb-4">ğŸ“ 1. ìƒí’ˆ ê¸°ë³¸ ì •ë³´</h2>
        
        <label class="input-label">ìƒí’ˆ ì œëª©</label>
        <input type="text" id="title" class="input-field" value="ë‚˜ì˜¤ì‹œë§ˆ ë¯¸ì‹ ì›Œí‚¹íˆ¬ì–´">
        
        <label class="input-label">ì„œë¸Œ ì¹´í”¼</label>
        <input type="text" id="sub" class="input-field" value="ìì—°ì— ìŠ¤ë©°ë“  ê±´ì¶•, ê·¸ ì†ì˜ ì˜ˆìˆ ">
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label class="input-label">í´ë”ëª… (ì˜ë¬¸ ì†Œë¬¸ì)</label>
                <input type="text" id="folder" class="input-field" value="naoshima_tour">
            </div>
            <div class="grid grid-cols-2 gap-2">
                <div>
                    <label class="input-label">ì •ê°€ (ì›)</label>
                    <input type="number" id="price_org" class="input-field" value="129000">
                </div>
                <div>
                    <label class="input-label">íŒë§¤ê°€ (ì›)</label>
                    <input type="number" id="price" class="input-field" value="89000">
                </div>
            </div>
        </div>
    </div>

    <div class="section-box">
        <h2 class="text-lg font-bold mb-4">ğŸ“Š 2. í•µì‹¬ ìš”ì•½ ì •ë³´</h2>
        <div class="grid grid-cols-2 gap-4">
            <div><label class="input-label">ë¯¸íŒ… ì¥ì†Œ/ì‹œê°„</label><input type="text" id="info_meet" class="input-field" value="ë‹¤ì¹´ë§ˆì“°í•­<br>08:12 ì§‘ê²°"></div>
            <div><label class="input-label">ì†Œìš” ì‹œê°„</label><input type="text" id="info_time" class="input-field" value="ì•½ 9ì‹œê°„<br>(Full day)"></div>
            <div><label class="input-label">ì¸ì›</label><input type="text" id="info_people" class="input-field" value="ìµœëŒ€ 14ëª…<br>ì†Œê·œëª¨ ì§‘ì¤‘"></div>
            <div><label class="input-label">ì–¸ì–´</label><input type="text" id="info_lang" class="input-field" value="í•œêµ­ì–´<br>ì „ë¬¸ ê°€ì´ë“œ"></div>
        </div>
    </div>

    <div class="section-box">
        <h2 class="text-lg font-bold mb-4">ğŸ“„ 3. ìƒì„¸ ì •ë³´ ì…ë ¥</h2>
        
        <label class="input-label">ì¶”ì²œ í¬ì¸íŠ¸ (3ê°€ì§€, ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„)</label>
        <textarea id="recommends" class="input-field h-24">ë¯¸ìˆ ê´€ë§Œ ì°ëŠ” 'ìˆ™ì œ ê°™ì€ ì—¬í–‰'ì´ ì‹«ìœ¼ì‹  ë¶„&#13;&#10;ì‘í’ˆì˜ ë°°ê²½ê³¼ ê±´ì¶• ì˜ë„ë¥¼ í•œêµ­ì–´ë¡œ ë“£ê³  ì‹¶ì€ ë¶„&#13;&#10;í¸ì˜ì  ë¹µ ëŒ€ì‹  ì œëŒ€ë¡œ ëœ í˜„ì§€ ì‹ì‚¬ë¥¼ ì›í•˜ì‹œëŠ” ë¶„</textarea>

        <label class="input-label text-blue-600">ğŸŒŸ í•µì‹¬ ì°¨ë³„ì  (Kick 3ê°€ì§€)</label>
        <div class="space-y-3 mb-6">
            <div class="grid grid-cols-3 gap-2">
                <input type="text" id="k1_t" class="input-field mb-0 col-span-1" value="ìœ ì¼ë¬´ì´ í•œêµ­ì–´ í•´ì„¤" placeholder="ì œëª©1">
                <input type="text" id="k1_d" class="input-field mb-0 col-span-2" value="í˜„ì¬ ì‹œì¥ì— ì „ë¬´í•œ í•œêµ­ì–´ ê°€ì´ë“œ íˆ¬ì–´." placeholder="ë‚´ìš©1">
            </div>
            <div class="grid grid-cols-3 gap-2">
                <input type="text" id="k2_t" class="input-field mb-0 col-span-1" value="ì„ íƒê³¼ ì§‘ì¤‘ì˜ ë¯¸í•™" placeholder="ì œëª©2">
                <input type="text" id="k2_d" class="input-field mb-0 col-span-2" value="ì˜¤ì „ì—” ì§€ì¤‘ë¯¸ìˆ ê´€ ì§‘ì¤‘, ì˜¤í›„ì—” ë§ˆì„ ì‚°ì±…." placeholder="ë‚´ìš©2">
            </div>
            <div class="grid grid-cols-3 gap-2">
                <input type="text" id="k3_t" class="input-field mb-0 col-span-1" value="ì‹¤íŒ¨ ì—†ëŠ” 'í˜¼ë¬´ë¼ ë¯¸ì‹íšŒ'" placeholder="ì œëª©3">
                <input type="text" id="k3_d" class="input-field mb-0 col-span-2" value="ê°€ì´ë“œê°€ ì—„ì„ í•œ ë¡œì»¬ ë§›ì§‘ ë¦¬ìŠ¤íŠ¸ ì œê³µ." placeholder="ë‚´ìš©3">
            </div>
        </div>

        <label class="input-label text-green-600">ğŸ‘¤ ê°€ì´ë“œ ì†Œê°œ</label>
        <div class="grid grid-cols-3 gap-2">
            <input type="text" id="g_title" class="input-field col-span-1 mb-0" value="ì „ë¬¸ ê°€ì´ë“œ">
            <input type="text" id="g_desc" class="input-field col-span-2 mb-0" value="ê±´ì¶•ê³¼ ì˜ˆìˆ ì„ ì‚¬ë‘í•˜ëŠ” ê°€ì´ë“œì…ë‹ˆë‹¤.">
        </div>
    </div>

    <div class="section-box">
        <div class="flex justify-between items-center mb-4 border-b pb-2">
            <div>
                <h2 class="text-lg font-bold">â° 4. ì½”ìŠ¤ íƒ€ì„ë¼ì¸</h2>
                <p class="text-xs text-gray-500">ì´ë¯¸ì§€ëŠ” 4ë²ˆë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ í• ë‹¹ë©ë‹ˆë‹¤.</p>
            </div>
            <button onclick="addTimeline()" class="bg-gray-800 text-white px-4 py-2 rounded-lg text-sm hover:bg-black transition">+ ì¼ì • ì¶”ê°€</button>
        </div>
        <div id="timeline_area" class="space-y-4"></div>
    </div>

    <div class="section-box">
        <h2 class="text-lg font-bold mb-4">âœ… 5. ì˜ˆì•½ ì „ í™•ì¸</h2>
        <div class="grid grid-cols-2 gap-4">
            <div>
                <label class="input-label">í¬í•¨ ì‚¬í•­</label>
                <textarea id="inc" class="input-field h-20">ì™•ë³µ í˜ë¦¬/ê³ ì†ì„  ìŠ¹ì„ ê¶Œ, ì§€ì¤‘ë¯¸ìˆ ê´€ ì…ì¥ë£Œ, ê°€ì´ë“œ</textarea>
            </div>
            <div>
                <label class="input-label">ë¶ˆí¬í•¨ ì‚¬í•­</label>
                <textarea id="exc" class="input-field h-20">ì ì‹¬ ì‹ì‚¬ ë¹„ìš©, ê¸°íƒ€ ê°œì¸ ê²½ë¹„</textarea>
            </div>
        </div>
        <div class="mt-2">
            <label class="input-label">ì°¸ê³  ì‚¬í•­ (ì¤„ë°”ê¿ˆ í—ˆìš©)</label>
            <textarea id="note" class="input-field h-20">- ë§ì´ ê±·ëŠ” íˆ¬ì–´ì…ë‹ˆë‹¤.\n- ìš°ì²œ ì‹œì—ë„ ì •ìƒ ì§„í–‰ë©ë‹ˆë‹¤.</textarea>
        </div>
    </div>

    <div class="sticky bottom-5 z-50">
        <button onclick="makeCode()" class="w-full text-white py-4 rounded-xl text-xl font-bold shadow-xl transition transform active:scale-95 bg-[#2A4700]">
            ì½”ë“œ ìƒì„±í•˜ê¸° (í´ë¦­)
        </button>
    </div>

    <div class="section-box mt-10 bg-slate-50 border-slate-200">
        <h2 class="text-xl font-bold mb-4 text-slate-700">ğŸ“¤ ìƒì„± ê²°ê³¼</h2>
        
        <p class="mb-2 font-bold text-blue-600 text-sm">A. ìƒí’ˆ í˜ì´ì§€ (index.html)</p>
        <textarea id="res_html" class="w-full h-64 p-4 border rounded-lg bg-white font-mono text-xs focus:outline-none mb-6" readonly></textarea>
        
        <p class="mb-2 font-bold text-blue-600 text-sm">B. ëª©ë¡ í˜ì´ì§€ìš© ì¹´ë“œ</p>
        <textarea id="res_card" class="w-full h-32 p-4 border rounded-lg bg-white font-mono text-xs focus:outline-none" readonly></textarea>
    </div>

    <script>
        // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
        window.onload = function() {
            addTimeline('08:12', 'ë¯¸íŒ… ë° ì¶œë°œ', 'í•­êµ¬ì—ì„œ ë§Œë‚˜ ì¼ì •ì„ ì‹œì‘í•©ë‹ˆë‹¤.', false);
            addTimeline('09:00', 'ì˜¤ì „ íˆ¬ì–´', 'ì£¼ìš” ëª…ì†Œë¥¼ ë‘˜ëŸ¬ë´…ë‹ˆë‹¤.', true);
            addTimeline('12:00', 'ì ì‹¬ ì‹ì‚¬', 'ììœ  ì‹ì‚¬ ë° íœ´ì‹', true);
        };

        function addTimeline(time='', title='', desc='', check=false) {
            const area = document.getElementById('timeline_area');
            const div = document.createElement('div');
            div.className = 'timeline-item bg-gray-50 p-4 rounded-lg';
            div.innerHTML = `
                <div class="flex gap-2 mb-2">
                    <input type="text" class="input-field mb-0 w-1/4 t-time" placeholder="10:00" value="${time}">
                    <input type="text" class="input-field mb-0 w-3/4 t-title" placeholder="ì¼ì • ì œëª© (ì˜ˆ: ë¯¸íŒ…, ê´€ëŒ)" value="${title}">
                </div>
                <textarea class="input-field mb-2 h-16 t-desc" placeholder="ìƒì„¸ ë‚´ìš©">${desc}</textarea>
                <div class="flex justify-between items-center">
                    <label class="flex items-center gap-2 text-sm cursor-pointer p-1 rounded hover:bg-gray-200">
                        <input type="checkbox" class="t-check w-4 h-4 accent-blue-600" ${check ? 'checked' : ''} onchange="updateImageLabels()">
                        <span class="img-label font-bold text-gray-500">ğŸ“¸ ì´ë¯¸ì§€ ì¶”ê°€</span>
                    </label>
                    <button onclick="deleteTimeline(this)" class="text-red-500 text-xs hover:underline">ì‚­ì œ</button>
                </div>
            `;
            area.appendChild(div);
            updateImageLabels();
        }

        function deleteTimeline(btn) {
            btn.closest('.timeline-item').remove();
            updateImageLabels();
        }

        // ì´ë¯¸ì§€ ë²ˆí˜¸ ìë™ ê³„ì‚° í‘œì‹œ
        function updateImageLabels() {
            let imgCount = 4; // 1,2,3ì€ ê³ ì •
            document.querySelectorAll('.t-check').forEach(chk => {
                const label = chk.nextElementSibling;
                if(chk.checked) {
                    label.innerText = `ğŸ“¸ ì´ë¯¸ì§€ ì¶”ê°€ (#${imgCount}.jpg)`;
                    label.className = "img-label font-bold text-blue-600";
                    imgCount++;
                } else {
                    label.innerText = `ğŸ“¸ ì´ë¯¸ì§€ ì¶”ê°€ (ì‚¬ìš© ì•ˆ í•¨)`;
                    label.className = "img-label font-bold text-gray-400";
                }
            });
        }

        // â˜… ì½”ë“œ ìƒì„±
        function makeCode() {
            // 1. ë°ì´í„° ìˆ˜ì§‘
            const d = {
                title: document.getElementById('title').value,
                sub: document.getElementById('sub').value,
                folder: document.getElementById('folder').value,
                price_o: Number(document.getElementById('price_org').value).toLocaleString(),
                price: Number(document.getElementById('price').value).toLocaleString(),
                info: {
                    meet: document.getElementById('info_meet').value,
                    time: document.getElementById('info_time').value,
                    people: document.getElementById('info_people').value,
                    lang: document.getElementById('info_lang').value
                },
                rec: document.getElementById('recommends').value.split('\n'),
                kicks: [
                    { t: document.getElementById('k1_t').value, d: document.getElementById('k1_d').value },
                    { t: document.getElementById('k2_t').value, d: document.getElementById('k2_d').value },
                    { t: document.getElementById('k3_t').value, d: document.getElementById('k3_d').value }
                ],
                guide: { name: document.getElementById('g_title').value, desc: document.getElementById('g_desc').value },
                check: {
                    inc: document.getElementById('inc').value.replace(/\n/g, '<br>'),
                    exc: document.getElementById('exc').value.replace(/\n/g, '<br>'),
                    note: document.getElementById('note').value.replace(/\n/g, '<br>')
                }
            };

            // 2. íƒ€ì„ë¼ì¸ HTML ì¡°ë¦½ (ìŠ¤íƒ€ì¼ ì ìš©)
            let imgIdx = 4;
            let tlHtml = '';
            
            document.querySelectorAll('.timeline-item').forEach((item, idx) => {
                const time = item.querySelector('.t-time').value;
                const title = item.querySelector('.t-title').value;
                const desc = item.querySelector('.t-desc').value.replace(/\n/g, '<br>');
                const hasImg = item.querySelector('.t-check').checked;
                const isLast = idx === document.querySelectorAll('.timeline-item').length - 1 ? 'last-item' : '';

                // ìƒ‰ìƒ ë¡œì§ (ê¸°ì¡´ í…œí”Œë¦¿ ìŠ¤íƒ€ì¼ ë³µì›)
                let dotClass = 'bg-white border-2 border-gray-300 text-gray-900'; 
                if (title.includes('ë¯¸íŒ…') || title.includes('ë„ì°©')) dotClass = 'bg-[#141719] text-white border-none';
                else if (title.includes('ì‹ì‚¬') || title.includes('ì¤‘ì‹')) dotClass = 'bg-[#FFB44D] text-white border-none';
                else if (title.includes('ê´€ëŒ') || title.includes('íˆ¬ì–´') || title.includes('ë¯¸ìˆ ê´€')) dotClass = 'bg-[#2A4700] text-white border-none';
                else if (title.includes('ì¢…ë£Œ') || title.includes('í•´ì‚°')) dotClass = 'bg-gray-500 text-white border-none';

                let imgCode = '';
                if(hasImg) {
                    imgCode = `<div class="rounded-xl overflow-hidden shadow-sm h-40 bg-gray-200 mt-3 mb-3"><img data-img="${imgIdx}" class="w-full h-full object-cover auto-img"></div>`;
                    imgIdx++;
                }

                tlHtml += `
                <div class="flex gap-4 mb-10 relative z-10 ${isLast}">
                    <div class="timeline-line"></div>
                    <div class="w-10 h-10 rounded-full flex items-center justify-center text-xs font-bold shrink-0 z-10 ${dotClass}">${time}</div>
                    <div class="w-full">
                        <h3 class="font-bold text-lg text-gray-900">${title}</h3>
                        <p class="text-sm text-gray-600 mt-1 leading-relaxed mb-1">${desc}</p>
                        ${imgCode}
                    </div>
                </div>`;
            });

            // 3. ìŠ¤í¬ë¦½íŠ¸ ë¶„ë¦¬ (ì˜¤ë¥˜ ë°©ì§€)
            const S_OPEN = '<' + 'script' + '>';
            const S_CLOSE = '<' + '/' + 'script' + '>';

            // 4. ìµœì¢… HTML (ê¸°ì¡´ í…œí”Œë¦¿ 100% ì¼ì¹˜)
            const finalHtml = `<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${d.title}</title>
    ${S_OPEN} src="https://cdn.tailwindcss.com">${S_CLOSE}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <style>
        body { font-family: Pretendard, sans-serif; }
        .keep-all { word-break: keep-all; word-wrap: break-word; }
        .timeline-line { position: absolute; left: 19px; top: 10px; bottom: -20px; width: 2px; background-color: #E5E7EB; z-index: 0; }
        .last-item .timeline-line { display: none; }
        .auto-img { min-height: 50px; background-color: #E5E7EB; }
    </style>
</head>
<body class="bg-[#F2F3F5] min-h-screen flex justify-center">
    <div class="w-full max-w-[430px] bg-white min-h-screen shadow-2xl relative pb-36">
        
        <div class="relative w-full h-[560px] bg-gray-200">
            <div class="absolute top-0 left-0 w-full z-20 flex justify-between p-5 pt-6 text-white">
                <a href="../index.html" class="text-2xl drop-shadow-md">â†</a>
                <div class="flex gap-4"><button>â™¥</button><button>ğŸ”—</button></div>
            </div>
            <img data-img="1" class="w-full h-full object-cover auto-img">
            <div class="absolute bottom-0 w-full h-[350px] bg-gradient-to-t from-black/90 via-black/40 to-transparent"></div>
            <div class="absolute bottom-10 left-6 right-6 text-white">
                <div class="flex flex-wrap gap-2 mb-3">
                    <span class="bg-[#2A4700] text-[#B7D2B6] text-[11px] font-bold px-2 py-1 rounded border border-[#486326]">ë‹¨ë… í•œêµ­ì–´ íˆ¬ì–´</span>
                    <span class="bg-white/20 backdrop-blur-md text-white text-[11px] font-bold px-2 py-1 rounded">ê¸°íšì•ˆ</span>
                </div>
                <h1 class="text-[28px] font-bold leading-tight mt-2">${d.title}</h1>
                <p class="text-[15px] opacity-90 mt-1 leading-relaxed">${d.sub}</p>
            </div>
        </div>

        <div class="bg-white rounded-t-[30px] -mt-6 relative z-10 px-6 pt-8 pb-6 shadow-sm">
            <div class="flex justify-between items-start text-center border-b border-gray-100 pb-6">
                <div class="flex flex-col items-center gap-2 w-1/4"><span class="text-2xl">ğŸš¢</span><span class="text-[13px] font-bold text-gray-700">ë¯¸íŒ…</span><span class="text-[11px] text-gray-500">${d.info.meet}</span></div>
                <div class="flex flex-col items-center gap-2 w-1/4"><span class="text-2xl">â³</span><span class="text-[13px] font-bold text-gray-700">ì†Œìš”</span><span class="text-[11px] text-gray-500">${d.info.time}</span></div>
                <div class="flex flex-col items-center gap-2 w-1/4"><span class="text-2xl">ğŸ‘¥</span><span class="text-[13px] font-bold text-gray-700">ì¸ì›</span><span class="text-[11px] text-gray-500">${d.info.people}</span></div>
                <div class="flex flex-col items-center gap-2 w-1/4"><span class="text-2xl">ğŸ—£</span><span class="text-[13px] font-bold text-gray-700">ì–¸ì–´</span><span class="text-[11px] text-gray-500">${d.info.lang}</span></div>
            </div>
            <div class="mt-6 bg-[#F9FAFB] rounded-2xl p-5">
                <span class="text-[#2A4700] font-bold text-xs mb-2 block">ğŸ’¡ ì´ëŸ° ë¶„ë“¤ê»˜ ì¶”ì²œí•´ìš”</span>
                <ul class="text-sm text-gray-600 space-y-2">
                    ${d.rec.map(r => `<li class="flex items-start gap-2"><span class="text-green-600">âœ”</span><span>${r}</span></li>`).join('')}
                </ul>
            </div>
        </div>
        <div class="h-3 bg-[#F2F3F5]"></div>

        <div class="bg-white py-10 px-6">
            <h2 class="text-[#2A4700] text-xl font-bold mb-6">ì™œ ì´ íˆ¬ì–´ì—¬ì•¼ í• ê¹Œìš”?</h2>
            <div class="flex flex-col gap-8 relative">
                <div class="absolute left-[38px] top-4 bottom-4 w-[1px] bg-gray-100"></div>
                ${d.kicks.map((k, i) => {
                    const icon = i === 0 ? 'ğŸ‡°ğŸ‡·' : (i === 1 ? 'âš–ï¸' : 'ğŸ½');
                    return `
                    <div class="flex items-start gap-5 relative z-10">
                        <div class="w-[76px] h-[76px] rounded-2xl bg-white border border-gray-100 shadow-sm flex items-center justify-center text-3xl z-10">${icon}</div>
                        <div class="pt-1"><h3 class="font-bold text-[#141719] text-lg mb-1">${k.t}</h3><p class="text-gray-500 text-sm leading-relaxed keep-all">${k.d}</p></div>
                    </div>`;
                }).join('')}
            </div>
            <div class="mt-8 rounded-2xl overflow-hidden h-48 bg-gray-200 relative shadow-md">
                <img data-img="2" class="w-full h-full object-cover auto-img">
                <div class="absolute bottom-0 left-0 w-full bg-black/50 p-3"><p class="text-white text-xs font-bold">ğŸ“ íˆ¬ì–´ì˜ í•˜ì´ë¼ì´íŠ¸</p></div>
            </div>
        </div>
        <div class="h-3 bg-[#F2F3F5]"></div>

        <div class="bg-white py-10 px-6">
            <h2 class="text-xl font-bold mb-8 flex items-center gap-2">ğŸ—ºï¸ íˆ¬ì–´ ì½”ìŠ¤ ì•ˆë‚´</h2>
            <div class="relative pl-2">${tlHtml}</div>
        </div>
        <div class="h-3 bg-[#F2F3F5]"></div>

        <div class="bg-white py-10 px-6 text-center">
            <span class="text-[#2A4700] border border-[#2A4700] px-2 py-0.5 rounded-full text-xs font-bold uppercase">HOST</span>
            <h2 class="text-xl font-bold mb-6 mt-3">${d.guide.name}</h2>
            <img data-img="3" class="w-[120px] h-[120px] object-cover rounded-full mx-auto mb-5 shadow-lg border-4 border-white auto-img">
            <p class="text-gray-600 text-[15px] leading-relaxed keep-all">${d.guide.desc.replace(/\n/g, '<br>')}</p>
        </div>
        <div class="h-3 bg-[#F2F3F5]"></div>

        <div class="bg-white px-6 pb-10 pt-10">
            <div class="bg-[#F9FAFB] rounded-2xl p-5 space-y-4">
                <h3 class="text-xl font-bold mb-2">âœ… ì˜ˆì•½ ì „ í™•ì¸í•´ì£¼ì„¸ìš”</h3>
                <div class="border-b border-gray-200 pb-3"><span class="block text-xs font-bold text-gray-500 mb-1">í¬í•¨ ì‚¬í•­</span><p class="text-sm text-gray-800">${d.check.inc}</p></div>
                <div class="border-b border-gray-200 pb-3"><span class="block text-xs font-bold text-gray-500 mb-1">ë¶ˆí¬í•¨ ì‚¬í•­</span><p class="text-sm text-gray-800">${d.check.exc}</p></div>
                <div><span class="block text-xs font-bold text-gray-500 mb-1">ì°¸ê³  ì‚¬í•­</span><p class="text-sm text-gray-800">${d.check.note.replace(/\n/g, '<br>')}</p></div>
            </div>
        </div>

        <div class="fixed bottom-0 max-w-[430px] w-full bg-white border-t border-gray-100 p-4 pb-8 z-50 flex items-center justify-between shadow-[0_-5px_15px_rgba(0,0,0,0.05)]">
            <div class="flex flex-col"><span class="text-xs text-gray-400 line-through">${d.price_o}ì›</span><span class="font-bold text-xl text-[#2A4700]">${d.price}ì›</span></div>
            <button onclick="alert('ì¤€ë¹„ì¤‘')" class="bg-[#2A4700] text-white font-bold py-3.5 px-8 rounded-xl hover:bg-[#1D2E01] transition active:scale-95 shadow-lg shadow-green-900/20">ì˜ˆì•½í•˜ê¸°</button>
        </div>
    </div>

    ${S_OPEN}
        document.addEventListener("DOMContentLoaded",()=>{
            const images = document.querySelectorAll(".auto-img");
            const exts = ["jpg","png","jpeg","webp"];
            images.forEach(img => {
                const id = img.getAttribute("data-img");
                if(!id) return;
                let attempt = 0;
                function tryLoad() {
                    if(attempt >= exts.length) return;
                    const src = "./images/" + id + "." + exts[attempt];
                    const temp = new Image();
                    temp.src = src;
                    temp.onload = () => { img.src = src; };
                    temp.onerror = () => { attempt++; tryLoad(); };
                }
                tryLoad();
            });
        });
    ${S_CLOSE}
</body>
</html>`;

            document.getElementById('res_html').value = finalHtml;
            
            // ì¹´ë“œ ì½”ë“œ (ê¸°ì¡´ ì‹¬í”Œ ìŠ¤íƒ€ì¼)
            document.getElementById('res_card').value = `<a href="./${d.folder}/index.html" class="block group">
    <div class="bg-white border border-gray-200 rounded-2xl p-5 hover:border-[#2A4700] hover:shadow-md transition-all relative overflow-hidden">
        <div class="flex justify-between items-start mb-2">
            <span class="bg-green-100 text-green-700 text-[10px] font-bold px-2 py-1 rounded">ì œì•ˆ ì™„ë£Œ</span>
            <span class="text-gray-300 group-hover:text-[#2A4700] transition">â†—</span>
        </div>
        <h3 class="font-bold text-lg text-gray-800 mb-1 group-hover:text-[#2A4700]">${d.title}</h3>
        <p class="text-xs text-gray-500">${d.sub}</p>
    </div>
</a>`;

            alert("âœ… ì½”ë“œ ìƒì„± ì™„ë£Œ! ì•„ë˜ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì„¸ìš”.");
        }
    </script>
</body>
</html>